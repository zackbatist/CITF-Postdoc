<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-01-07">
<meta name="description" content="Notes perpainting to works published about Maelstrom and harmonization initiatives it has supported.">

<title>Maelstrom reading notes – CITF-Postdoc</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../images/favicon.ico" rel="icon">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-01bf821d34ede30856b0c0e7e2988940.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Maelstrom reading notes</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-center sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../images/logo.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Home</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../context.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Context</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../research-protocol.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Research Protocol</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../case-selection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Case Selection</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../ethics-protocol.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ethics Protocol</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../interview-protocol.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Interview Protocol</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../transcription-protocol.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Transcription Protocol</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../data-management.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Data Management</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../qda-protocol.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">QDA Protocol</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../glossary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glossary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../notes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Notes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../posts.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Blog</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="https://github.com/zackbatist/CITF-Postdoc" class="sidebar-item-text sidebar-link">
 <span class="menu-text">GitHub</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../CITF-Postdoc.bib" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bib</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../posts.xml" class="sidebar-item-text sidebar-link">
 <span class="menu-text">RSS</span></a>
  </div>
</li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#doiron2013" id="toc-doiron2013" class="nav-link active" data-scroll-target="#doiron2013"><span class="citation" data-cites="doiron2013">Doiron, Burton, et al. (2013)</span></a></li>
  <li><a href="#doiron2017" id="toc-doiron2017" class="nav-link" data-scroll-target="#doiron2017"><span class="citation" data-cites="doiron2017">Doiron et al. (2017)</span></a></li>
  <li><a href="#fortier2010" id="toc-fortier2010" class="nav-link" data-scroll-target="#fortier2010"><span class="citation" data-cites="fortier2010">Fortier et al. (2010)</span></a></li>
  <li><a href="#fortier2011" id="toc-fortier2011" class="nav-link" data-scroll-target="#fortier2011"><span class="citation" data-cites="fortier2011">Fortier et al. (2011)</span></a></li>
  <li><a href="#fortier2017" id="toc-fortier2017" class="nav-link" data-scroll-target="#fortier2017"><span class="citation" data-cites="fortier2017">Fortier et al. (2017)</span></a></li>
  <li><a href="#bergeron2018" id="toc-bergeron2018" class="nav-link" data-scroll-target="#bergeron2018"><span class="citation" data-cites="bergeron2018">Bergeron et al. (2018)</span></a></li>
  <li><a href="#bergeron2021" id="toc-bergeron2021" class="nav-link" data-scroll-target="#bergeron2021"><span class="citation" data-cites="bergeron2021">Bergeron et al. (2021)</span></a></li>
  <li><a href="#wey2021" id="toc-wey2021" class="nav-link" data-scroll-target="#wey2021"><span class="citation" data-cites="wey2021">Wey et al. (2021)</span></a></li>
  <li><a href="#gaye2014" id="toc-gaye2014" class="nav-link" data-scroll-target="#gaye2014"><span class="citation" data-cites="gaye2014">Gaye et al. (2014)</span></a></li>
  <li><a href="#doiron2013a" id="toc-doiron2013a" class="nav-link" data-scroll-target="#doiron2013a"><span class="citation" data-cites="doiron2013a">Doiron, Raina, et al. (2013)</span></a></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/zackbatist/CITF-Postdoc/blob/main/notes/maelstrom-readings.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Maelstrom reading notes</h1>
  <div class="quarto-categories">
    <div class="quarto-category">reading</div>
  </div>
  </div>

<div>
  <div class="description">
    Notes perpainting to works published about Maelstrom and harmonization initiatives it has supported.
  </div>
</div>


<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">January 7, 2025</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">January 13, 2025</p>
    </div>
  </div>
    
  </div>
  


</header>


<section id="doiron2013" class="level2">
<h2 class="anchored" data-anchor-id="doiron2013"><span class="citation" data-cites="doiron2013">Doiron, Burton, et al. (<a href="#ref-doiron2013" role="doc-biblioref">2013</a>)</span></h2>
<ul>
<li>Initial overview of data harmonization procedures, using the Health Obesity Project (HOP) as an illustrative case.</li>
<li>Outlines the technical apparatus, especially for DataShield, but also broadly describes the discursive process of arriving at a DataSchema that is both functional and flexible.
<ul>
<li>This description is quite broad and abstracy, seems somewhat ideal and aspirational.</li>
</ul></li>
<li>Describes reliance on international standards, such as the International Labour Organization’s International Standard Classification of Occupations.
<ul>
<li>It seems like these are used as black boxes that encapsulate a series of tensions which epidemiologists are unconcerned with; in effect, they simplify the need for stretching the collaborative ties even further than they are already extended, they represent matters out of scope for deeper discursive engagement.</li>
</ul></li>
<li>It is notable that they emphasize that it’s easy to set up and use DataShield and Maelstorm toolkits independently of university IT and that it can be run using RStudio installed on a basic laptop.
<ul>
<li>Maybe look into the historical context (2013) and the evolving role of university IT in software selection.</li>
</ul></li>
<li>The conclusion states that the HOP project was successful in its harmonization efforts, but does not go as far as to state that it produced meaningful findings as a result of harmonization.
<ul>
<li>I may take some time to find and read studies that used these data to see what’s what.</li>
<li>This seems like the main one: <a href="https://doi.org/10.1186/1472-6823-14-9" class="uri">https://doi.org/10.1186/1472-6823-14-9</a>, but these other papers may or not not also be relevant:
<ul>
<li><a href="https://doi.org/10.1016/j.smhl.2021.100263" class="uri">https://doi.org/10.1016/j.smhl.2021.100263</a></li>
<li><a href="https://doi.org/10.1007/s10654-014-9977-1" class="uri">https://doi.org/10.1007/s10654-014-9977-1</a></li>
<li><a href="https://doi.org/10.1530/EJE-14-0540" class="uri">https://doi.org/10.1530/EJE-14-0540</a></li>
<li><a href="https://doi.org/10.1007/S13679-020-00375-0" class="uri">https://doi.org/10.1007/S13679-020-00375-0</a></li>
<li><a href="https://doi.org/10.1093/eurpub/ckac061" class="uri">https://doi.org/10.1093/eurpub/ckac061</a></li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="doiron2017" class="level2">
<h2 class="anchored" data-anchor-id="doiron2017"><span class="citation" data-cites="doiron2017">Doiron et al. (<a href="#ref-doiron2017" role="doc-biblioref">2017</a>)</span></h2>
<ul>
<li>An overview of the key software that facilitates data harmonization practices under Maelstrom, also briefly touched upon in <span class="citation" data-cites="doiron2013">Doiron, Burton, et al. (<a href="#ref-doiron2013" role="doc-biblioref">2013</a>)</span>.</li>
<li>Page 1373 refers to graphical and programmatic interfaces and assumes certain roles and tasks associated with each.</li>
<li>Briefly describes its use by the Canadian Longitudinal Study on Aging (CLSA), the Canadian Partnership for Tomorrow Project (CPTP) and InterConnect, primarily by describing the range and quantity of data that these systems manage in each case.</li>
</ul>
<blockquote class="blockquote">
<p>Opal provides a centralized web-based data management system allowing study coordinators and data managers to securely import/export a variety of data types (e.g.&nbsp;text, nu merical, geolocation, images, videos) and formats (e.g.&nbsp;SPSS, CSV) using a point-and-click interface. Opal then converts, stores and displays these data under a standar dized model.</p>
</blockquote>
<blockquote class="blockquote">
<p>Mica is used to create websites and metadata portals for individual epidemiological studies or multi-study consor tia, with a specific focus on supporting observational co hort studies. The Mica application helps data custodians and study or network coordinators to efficiently organize and disseminate information about their studies and net works without significant technical effort.</p>
</blockquote>
</section>
<section id="fortier2010" class="level2">
<h2 class="anchored" data-anchor-id="fortier2010"><span class="citation" data-cites="fortier2010">Fortier et al. (<a href="#ref-fortier2010" role="doc-biblioref">2010</a>)</span></h2>
<ul>
<li>A very grandiose paper presenting the grand vision for DataSHaPER, which would eventually become Maelstrom.
<ul>
<li>Lots of co-authors!</li>
</ul></li>
<li>Invokes the pan-European EPIC project (European Prospective Investigation into Cancer and Nutrition), which faced numerous data synthesis challenges despite its proactive effort to coordinate work across numerous research centres.</li>
</ul>
<blockquote class="blockquote">
<p>Two complementary approaches may be adopted to support effective data synthesis. The first one principally targets ‘what’ is to be synthesized, whereas the other one focuses on ‘how’ to collect the required information. Thus: (i) core sets of information may be identified to serve as the foundation for a flexible approach to harmonization; or (ii) standard collection devices (questionnaires and stand ard operating procedures) may be suggested as a required basis for collection of information.</p>
</blockquote>
<ul>
<li>DataSHaPER is an acronym for DataSchema and Harmonization Platform for Epidemiological Research.</li>
</ul>
<blockquote class="blockquote">
<p>In an ideal world, information would be ‘prospectively harmonized’: emerging studies would make use, where possible, of harmonized questionnaires and standard operating procedures. This enhances the potential for future pooling but entails significant challenges —- ahead of time -— in developing and agree ing to common assessment protocols. However, at the same time, it is important to increase the utility of existing studies by ‘retrospectively harmonizing’ data that have already been collected, to optimize the subset of information that may legitimately be pooled. Here, the quantity and quality of infor mation that can be pooled is limited by the heterogeneity intrinsic to the pre-existing differences in study design and conduct.</p>
</blockquote>
<p>Compares prospective and retrospective harmonizatiom, with the former being presented as ideal, and the latter being a pragmatic reconciliation in acknowledgement that the former is essentially impossible to achieve.</p>
<ul>
<li>DataSHaPER is strikingly similar to OCHRE:
<ul>
<li>XML-based data structures</li>
<li>Genesis of a generic and ultimately optional base-level schema that illustrates the kind of data that the data structure may hold in ways that are immediately recognizable to all practitioners (at OCHRE it was associations between contexts and finds)</li>
<li>Separate harmonization platform where users can edit and manipulate records and associations between them</li>
</ul></li>
</ul>
<blockquote class="blockquote">
<p>The question ‘What would constitute the ultimate proof of success or failure of the DataSHaPER approach’ needs to be addressed. Such proof will necessarily accumulate over time, and will involve two fundamental elements: (i) ratification of the basic DataSHaPER approach; and (ii) confirmation of the quality of each individual DataSHaPER as they are developed and/or extended. An important indication of the former would be provided by the widespread use of our tools. However, the ultimate proof of principle will necessarily be based on the generation of replicable scientific findings by researchers using the approach. But, for such evidence to accumulate it will be essential to assure the quality of each individual DataSHaPER. Even if the fundamental approach is sound, its success will depend critically on how individual DataSHaPERs are constructed and used. It seems likely that if consistency and quality are to be assured in the global development of the approach, it will be necessary for new DataSHaPERs to be formally endorsed by a central advisory team.</p>
</blockquote>
</section>
<section id="fortier2011" class="level2">
<h2 class="anchored" data-anchor-id="fortier2011"><span class="citation" data-cites="fortier2011">Fortier et al. (<a href="#ref-fortier2011" role="doc-biblioref">2011</a>)</span></h2>
<p>This paper responds to <span class="citation" data-cites="hamilton2011">Hamilton et al. (<a href="#ref-hamilton2011" role="doc-biblioref">2011</a>)</span>, which presents an effort to devise a standardized nomenclature. The response is basically to advocate for a more flexible approach, rather than a stringent one promoted by <span class="citation" data-cites="hamilton2011">Hamilton et al. (<a href="#ref-hamilton2011" role="doc-biblioref">2011</a>)</span>. It draws extensively from concepts published in the foundational paper by <span class="citation" data-cites="fortier2010">Fortier et al. (<a href="#ref-fortier2010" role="doc-biblioref">2010</a>)</span>.</p>
<blockquote class="blockquote">
<p>Two complementary approaches to harmonization may be adopted to support effective data synthesis or comparison across studies. The first approach makes use of identical data collection tools and procedures as a basis for harmoni zation and synthesis. Here we refer to this as the ‘‘stringent’’ approach to harmonization. The second approach is con sidered ‘‘flexible’’ harmonization. Critically, the second ap proach does not demand the use of identical data collection tools and procedures for harmonization and synthesis. Rather, it has to be based on sound methodology to ensure inferential equivalence of the information to be harmonized. Here, standardization is considered equivalent to stringent harmonization. It should, however, be noted that the term standard is occasionally employed to refer to common con cepts or comparable classification schemes but does not necessarily involve the use of identical data collection tools and procedures (12, 13).</p>
</blockquote>
<p>This directly parallels the distinction made in <span class="citation" data-cites="fortier2010">Fortier et al. (<a href="#ref-fortier2010" role="doc-biblioref">2010</a>)</span> between “ideal” prospective and more pragmatic retrospective approaches to data harmonization.</p>
<blockquote class="blockquote">
<p>Synthesis of data using a flexible harmonization approach may be either prospective or retrospective. To achieve flexible prospective harmonization, investigators from several studies will agree on a core set of variables (or measures), compatible sets of data collection tools, and standard operating procedures but will allow a certain level of flexibilit in the specific tools and procedures used in each study (16, 17). Retrospective harmonization targets synthesis of information already collected by existing legacy studies (15, 18, 19). As an illustrative example, using retrospective harmonization, researchers will define a core set of variables (e.g., body mass index, global level of physical activity) and, making use of formal pairing rules, assess the potential for each participating study to create each variable (15). The ability to retrospectively harmonize data from existing studies facilitates the rapid generation of new scientifi knowledge.</p>
</blockquote>
<p>I wonder why there is no example provided for prospective data harmonization. Is it because it is ideal and not realistic? I’d argue that it is simply what occurs <em>within</em> projects.</p>
</section>
<section id="fortier2017" class="level2">
<h2 class="anchored" data-anchor-id="fortier2017"><span class="citation" data-cites="fortier2017">Fortier et al. (<a href="#ref-fortier2017" role="doc-biblioref">2017</a>)</span></h2>
<p>Explicit statement regarding the rationale and presumed benefits of harmonization right in the first paragraph:</p>
<blockquote class="blockquote">
<p>The rationales underpinning such an approach include ensuring: sufficient statistical power; more refined subgroup analysis; increased exposure hetero geneity; enhanced generalizability and a capacity to under take comparison, cross validation or replication across datasets. Integrative agendas also help maximizing the use of available data resources and increase cost-efficiency of research programmes.</p>
</blockquote>
<ul>
<li>ensuring sufficient statistical power</li>
<li>more refined subgroup analysis</li>
<li>increased exposure heterogeneity</li>
<li>enhanced generalizability</li>
<li>a capacity to undertake comparison, cross validation or replication across datasets.</li>
<li>maximizing the use of available data resources</li>
<li>increase cost-efficiency of research programmes</li>
</ul>
<p>Clearly defines harmonization and its benefits:</p>
<blockquote class="blockquote">
<p>Essentially, data harmonization achieves or improves comparability (inferential equivalence) of similar measures collected by separate studies.</p>
</blockquote>
<p>Adds an additional argument for retrospective harmonization on top of prior discussion of retrospective/prospective approaches (cf. <span class="citation" data-cites="fortier2010">Fortier et al. (<a href="#ref-fortier2010" role="doc-biblioref">2010</a>)</span>; <span class="citation" data-cites="fortier2011">Fortier et al. (<a href="#ref-fortier2011" role="doc-biblioref">2011</a>)</span>):</p>
<blockquote class="blockquote">
<p>Repeating identical protocols is not necessarily viewed as providing evidence as strong as that obtained by exploring the same topic but using different designs and measures.</p>
</blockquote>
<p>Also relates retrospective harmonization from systematic meta reviews. In fact, the paper basically responds to calls for more structured guidelines for data harmonization, similar to those that had been produced to support structured metareviews in the years prior to this publication. The authors identify several papers that have done similar guidelines or reports on harmonization practices, which they claim are too broad. Those papers include:</p>
<ul>
<li><span class="citation" data-cites="rolland2015">Rolland et al. (<a href="#ref-rolland2015" role="doc-biblioref">2015</a>)</span>
<ul>
<li><a href="https://doi.org/10.1093/aje/kwv133" class="uri">https://doi.org/10.1093/aje/kwv133</a></li>
</ul></li>
<li><span class="citation" data-cites="schaap2011">Schaap et al. (<a href="#ref-schaap2011" role="doc-biblioref">2011</a>)</span>
<ul>
<li><a href="https://doi.org/10.1186/1471-2474-12-272" class="uri">https://doi.org/10.1186/1471-2474-12-272</a></li>
</ul></li>
<li><span class="citation" data-cites="bennett2011">Bennett et al. (<a href="#ref-bennett2011" role="doc-biblioref">2011</a>)</span>
<ul>
<li><a href="https://doi.org/10.1002/gepi.20564" class="uri">https://doi.org/10.1002/gepi.20564</a></li>
</ul></li>
<li><span class="citation" data-cites="hohmann2012">Hohmann et al. (<a href="#ref-hohmann2012" role="doc-biblioref">2012</a>)</span></li>
</ul>
<p>The paper applied a questionnaire among data harmonization initiatives. The findings indicate that procedures were more attentively follows during earlier stages, such as when matching and aligning available data with the project’s designated scope. However, procedures were less sound with regards to documenting procedures, validating the results of data processing, and dissemination strategy. There is a notable division between work that occurs before and after people actually begin handling the data, which indicates a tension between aspirational idealism and a reckoning with the practical challenges of reconciling data deriving from multiple sources.</p>
<blockquote class="blockquote">
<p>Respondents were asked to delineate the specific procedures or steps undertaken to generate the harmonized data requested. Sound procedures were generally described; however, the terminologies, sequence and technical and methodological approaches to these procedures varied considerably. Most of the procedures mentioned were related to defining the research questions, identifying and selecting the participating studies (generally not through a systematic approach), identifying the targeted variables to be generated and processing data into the harmonized variables. These procedures were reported by at least 75% of the respondents. On the other hand, few reported steps related to validation of the harmonized data (N=4; 11.8%), documentation of the harmonization process (N=5; 14.7%) and dissemination of the harmonized data outputs (N=2; 5.9%).</p>
</blockquote>
<p>The paper summarizes some specific “potential pitfalls” reported by respondents to their survey:</p>
<ul>
<li>ensuring timely access to data;</li>
<li>handling dissimilar restrictions and procedures related to individual participant data access;</li>
<li>managing diversity across the rules for authorship and recognition of input from study-specific investigators;</li>
<li>mobilizing sufficient time and resources to conduct the harmonization project;</li>
<li>gathering information and guidance on harmonization approaches, resources and techniques;</li>
<li>obtaining comprehensive and coherent information on study-specific designs, standard operating procedures, data collection devices, data format and data content;</li>
<li>understanding content and quality of study-specific data;</li>
<li>defining the realistic, but scientifically acceptable, level of heterogeneity (or content equivalence) to be obtained;</li>
<li>generating effective study-specific and harmonized datasets, infrastructures and computing capacities;</li>
<li>processing data under a harmonized format taking into account diversity of: study designs and content, study population, synchronicity of measures (events measured at different point in time or at different intervals when repeated) etc;</li>
<li>ensuring proper documentation of the process and decisions undertaken throughout harmonization to ensure transparency and reproducibility of the harmonized datasets;</li>
<li>maintaining long-term capacities supporting dissemination of the harmonized datasets to users.</li>
</ul>
<p>It’s not made clear how these responses were distributed among respondents.</p>
<p>The authors then identify several absolute essential requirements needed to achieve success:</p>
<ul>
<li><strong>Collaborative framework:</strong> a collaborative environment needs to be implemented to ensure the success of any harmonization project. Investigators involved should be open to sharing information and knowledge, and investing time and resources to ensure the successful implementation of a data-sharing infrastructure and achievement of the harmonization process.</li>
<li><strong>Expert input:</strong> adequate input and oversight by experts should be ensured. Expertise is often necessary in: the scientific domain of interest (to ensure harmonized variables permit addressing the scientific question with minimal bias); data harmonization methods (to support achievement of the harmonization procedures); and ethics and law (to address data access and integration issues).</li>
<li><strong>Valid data input:</strong> study-specific data should only be harmonized and integrated if the original data items collected by each study are of acceptable quality.</li>
<li><strong>Valid data output:</strong> transparency and rigour should be maintained throughout the harmonization process to ensure validity and reproducibility of the harmonization results and to guarantee quality of data output. The common variables generated necessarily need to be of acceptable quality.</li>
<li><strong>Rigorous documentation:</strong> publication of results generated making use of harmonized data must provide the information required to estimate the quality of the process and presence of potential bias. This includes a description of the: criteria used to select studies; process achieved to select and define variables to be harmonized; procedures used to process data; and characteristics of the study-specific and harmonized dataset(s) (e.g.&nbsp;attribute of the populations).</li>
<li><strong>Respect for stakeholders:</strong> all study-specific as well as network-specific ethical and legal components need to be respected. This includes respect of the rights, intellectual property interests and integrity of study participants, investigators and stakeholders.</li>
</ul>
<p>The authors describe how they arrived at guidelines following the results of this study:</p>
<blockquote class="blockquote">
<p>A consensus approach was used to assemble information about pitfalls faced during the harmonization process, establish guiding principles and develop the guidelines. The iterative process (informed by workshops and case studies) permitted to refine and formalize the guide lines. The only substantive structural change to the initial version proposed was the addition of specific steps relating to the validation, and dissemination and archiving of harmonized outputs. These steps were felt essential to em phasize the critical nature of these particular issues.</p>
</blockquote>
<p>The paper outlines a checklist of stages that data harmonization initiatives need to go through to produce ideal outcomes. For each task, they describe a scenario in which the task can be said to be complete, whhich resembles an ideal outcome. This is described in the paper, summarized in a table, and more comprehensively documented in the supplementary materials.</p>
<p>Also worth noting, this paper includes a list of harmonization initiatives that I may consult when selecting cases. I’m not quite sure how useful it will be since the findings don’t really break down the distribution of responses in any detail, but maybe the authors have done this analysis and not published it.</p>
</section>
<section id="bergeron2018" class="level2">
<h2 class="anchored" data-anchor-id="bergeron2018"><span class="citation" data-cites="bergeron2018">Bergeron et al. (<a href="#ref-bergeron2018" role="doc-biblioref">2018</a>)</span></h2>
<p>x</p>
</section>
<section id="bergeron2021" class="level2">
<h2 class="anchored" data-anchor-id="bergeron2021"><span class="citation" data-cites="bergeron2021">Bergeron et al. (<a href="#ref-bergeron2021" role="doc-biblioref">2021</a>)</span></h2>
<p>x</p>
</section>
<section id="wey2021" class="level2">
<h2 class="anchored" data-anchor-id="wey2021"><span class="citation" data-cites="wey2021">Wey et al. (<a href="#ref-wey2021" role="doc-biblioref">2021</a>)</span></h2>
<p>x</p>
</section>
<section id="gaye2014" class="level2">
<h2 class="anchored" data-anchor-id="gaye2014"><span class="citation" data-cites="gaye2014">Gaye et al. (<a href="#ref-gaye2014" role="doc-biblioref">2014</a>)</span></h2>
<p>x</p>
</section>
<section id="doiron2013a" class="level2">
<h2 class="anchored" data-anchor-id="doiron2013a"><span class="citation" data-cites="doiron2013a">Doiron, Raina, et al. (<a href="#ref-doiron2013a" role="doc-biblioref">2013</a>)</span></h2>
<p>x</p>



</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-bennett2011" class="csl-entry" role="listitem">
Bennett, Siiri N., Neil Caporaso, Annette L. Fitzpatrick, Arpana Agrawal, Kathleen Barnes, Heather A. Boyd, Marilyn C. Cornelis, et al. 2011. <span>“Phenotype Harmonization and Cross-Study Collaboration in <span>GWAS</span> Consortia: The <span>GENEVA</span> Experience.”</span> <em>Genetic Epidemiology</em> 35 (3): 159–73. <a href="https://doi.org/10.1002/gepi.20564">https://doi.org/10.1002/gepi.20564</a>.
</div>
<div id="ref-bergeron2018" class="csl-entry" role="listitem">
Bergeron, Julie, Dany Doiron, Yannick Marcon, Vincent Ferretti, and Isabel Fortier. 2018. <span>“Fostering Population-Based Cohort Data Discovery: <span>The Maelstrom Research</span> Cataloguing Toolkit.”</span> <em>PLOS ONE</em> 13 (7): e0200926. <a href="https://doi.org/10.1371/journal.pone.0200926">https://doi.org/10.1371/journal.pone.0200926</a>.
</div>
<div id="ref-bergeron2021" class="csl-entry" role="listitem">
Bergeron, Julie, Rachel Massicotte, Stephanie Atkinson, Alan Bocking, William Fraser, Isabel Fortier, and the ReACH member cohorts’ principal investigators. 2021. <span>“Cohort <span>Profile</span>: <span>Research Advancement</span> Through <span>Cohort Cataloguing</span> and <span>Harmonization</span> (<span>ReACH</span>).”</span> <em>International Journal of Epidemiology</em> 50 (2): 396–97. <a href="https://doi.org/10.1093/ije/dyaa207">https://doi.org/10.1093/ije/dyaa207</a>.
</div>
<div id="ref-doiron2013" class="csl-entry" role="listitem">
Doiron, Dany, Paul Burton, Yannick Marcon, Amadou Gaye, Bruce H. R. Wolffenbuttel, Markus Perola, Ronald P. Stolk, et al. 2013. <span>“Data Harmonization and Federated Analysis of Population-Based Studies: The <span>BioSHaRE</span> Project.”</span> <em>Emerging Themes in Epidemiology</em> 10 (1): 12. <a href="https://doi.org/10.1186/1742-7622-10-12">https://doi.org/10.1186/1742-7622-10-12</a>.
</div>
<div id="ref-doiron2017" class="csl-entry" role="listitem">
Doiron, Dany, Yannick Marcon, Isabel Fortier, Paul Burton, and Vincent Ferretti. 2017. <span>“Software <span>Application Profile</span>: <span>Opal</span> and <span>Mica</span>: Open-Source Software Solutions for Epidemiological Data Management, Harmonization and Dissemination.”</span> <em>International Journal of Epidemiology</em> 46 (5): 1372–78. <a href="https://doi.org/10.1093/ije/dyx180">https://doi.org/10.1093/ije/dyx180</a>.
</div>
<div id="ref-doiron2013a" class="csl-entry" role="listitem">
Doiron, Dany, Parminder Raina, Isabel Fortier, and Linkage Between Cohorts and Health Care Utilization Data: Meeting of Canadian Stakeholders workshop participants. 2013. <span>“Linking <span>Canadian Population Health Data</span>: <span>Maximizing</span> the <span>Potential</span> of <span>Cohort</span> and <span>Administrative Data</span>.”</span> <em>Canadian Journal of Public Health</em> 104 (3): e258–61. <a href="https://doi.org/10.17269/cjph.104.3775">https://doi.org/10.17269/cjph.104.3775</a>.
</div>
<div id="ref-fortier2010" class="csl-entry" role="listitem">
Fortier, Isabel, Paul R Burton, Paula J Robson, Vincent Ferretti, Julian Little, Francois L’Heureux, Mylène Deschênes, et al. 2010. <span>“Quality, Quantity and Harmony: The <span>DataSHaPER</span> Approach to Integrating Data Across Bioclinical Studies.”</span> <em>International Journal of Epidemiology</em> 39 (5): 1383–93. <a href="https://doi.org/10.1093/ije/dyq139">https://doi.org/10.1093/ije/dyq139</a>.
</div>
<div id="ref-fortier2011" class="csl-entry" role="listitem">
Fortier, Isabel, Dany Doiron, Paul Burton, and Parminder Raina. 2011. <span>“Invited <span>Commentary</span>: <span>Consolidating Data Harmonization</span>—<span>How</span> to <span>Obtain Quality</span> and <span>Applicability</span>?”</span> <em>American Journal of Epidemiology</em> 174 (3): 261–64. <a href="https://doi.org/10.1093/aje/kwr194">https://doi.org/10.1093/aje/kwr194</a>.
</div>
<div id="ref-fortier2017" class="csl-entry" role="listitem">
Fortier, Isabel, Parminder Raina, Edwin R Van den Heuvel, Lauren E Griffith, Camille Craig, Matilda Saliba, Dany Doiron, et al. 2017. <span>“Maelstrom <span>Research</span> Guidelines for Rigorous Retrospective Data Harmonization.”</span> <em>International Journal of Epidemiology</em> 46 (1): 103–5. <a href="https://doi.org/10.1093/ije/dyw075">https://doi.org/10.1093/ije/dyw075</a>.
</div>
<div id="ref-gaye2014" class="csl-entry" role="listitem">
Gaye, Amadou, Yannick Marcon, Julia Isaeva, Philippe LaFlamme, Andrew Turner, Elinor M Jones, Joel Minion, et al. 2014. <span>“<span>DataSHIELD</span>: Taking the Analysis to the Data, Not the Data to the Analysis.”</span> <em>International Journal of Epidemiology</em> 43 (6): 1929–44. <a href="https://doi.org/10.1093/ije/dyu188">https://doi.org/10.1093/ije/dyu188</a>.
</div>
<div id="ref-hamilton2011" class="csl-entry" role="listitem">
Hamilton, Carol M., Lisa C. Strader, Joseph G. Pratt, Deborah Maiese, Tabitha Hendershot, Richard K. Kwok, Jane A. Hammond, et al. 2011. <span>“The <span>PhenX Toolkit</span>: <span>Get</span> the <span>Most From Your Measures</span>.”</span> <em>American Journal of Epidemiology</em> 174 (3): 253–60. <a href="https://doi.org/10.1093/aje/kwr193">https://doi.org/10.1093/aje/kwr193</a>.
</div>
<div id="ref-hohmann2012" class="csl-entry" role="listitem">
Hohmann, Cynthia, E Govarts, A Bergström, S Cordier, M Eggesbo, M Guxens, J Heinrich, et al. 2012. <span>“Joint <span>Data Analyses</span> of <span>European Birth Cohorts</span>: <span>Two Different Approaches</span>.”</span> <em>WebmedCentral EPIDEMIOLOGY</em> 3 (12): WMC003869.
</div>
<div id="ref-rolland2015" class="csl-entry" role="listitem">
Rolland, Betsy, Suzanna Reid, Deanna Stelling, Greg Warnick, Mark Thornquist, Ziding Feng, and John D. Potter. 2015. <span>“Toward <span>Rigorous Data Harmonization</span> in <span>Cancer Epidemiology Research</span>: <span>One Approach</span>.”</span> <em>American Journal of Epidemiology</em> 182 (12): 1033–38. <a href="https://doi.org/10.1093/aje/kwv133">https://doi.org/10.1093/aje/kwv133</a>.
</div>
<div id="ref-schaap2011" class="csl-entry" role="listitem">
Schaap, Laura A., Geeske MEE Peeters, Elaine M. Dennison, Sabina Zambon, Thorsten Nikolaus, Mercedes Sanchez-Martinez, Estella Musacchio, Natasja M. van Schoor, Dorly JH Deeg, and The EPOSA research group. 2011. <span>“European <span>Project</span> on <span>Osteoarthritis</span> (<span>EPOSA</span>): Methodological Challenges in Harmonization of Existing Data from Five <span>European</span> Population-Based Cohorts on Aging.”</span> <em>BMC Musculoskeletal Disorders</em> 12 (1): 272. <a href="https://doi.org/10.1186/1471-2474-12-272">https://doi.org/10.1186/1471-2474-12-272</a>.
</div>
<div id="ref-wey2021" class="csl-entry" role="listitem">
Wey, Tina W., Dany Doiron, Rita Wissa, Guillaume Fabre, Irina Motoc, J. Mark Noordzij, Milagros Ruiz, et al. 2021. <span>“Overview of Retrospective Data Harmonisation in the <span>MINDMAP</span> Project: Process and Results.”</span> <em>J Epidemiol Community Health</em> 75 (5): 433–41. <a href="https://doi.org/10.1136/jech-2020-214259">https://doi.org/10.1136/jech-2020-214259</a>.
</div>
</div></section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/zackbatist\.info\/CITF-Postdoc\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="https://creativecommons.org/publicdomain/zero/1.0/">
<p>CC0</p>
</a>
  </li>  
</ul>
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    <div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/zackbatist/CITF-Postdoc/blob/main/notes/maelstrom-readings.qmd" class="toc-action"><i class="bi bi-github"></i>View source</a></li></ul></div></div>
    <div class="nav-footer-right">
<p>This page is built with ❤️ and <a href="https://quarto.org/">Quarto</a>.</p>
</div>
  </div>
</footer>




</body></html>